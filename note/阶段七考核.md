<center>阶段七考核</center>

## 一、TCP/IP

TCP（传输控制协议）是一种面向连接的、可靠的传输协议，常用于互联网上的数据传输。以下是TCP的特点、报文结构以及建立连接和释放连接的过程：

### 1.特点：

1. 可靠性：TCP使用确认机制和重传机制来确保数据的可靠传输。接收方会向发送方发送确认消息，发送方在收到确认消息之前会持续重传未收到的数据。
2. 面向连接：TCP在数据传输之前需要在发送方和接收方之间建立连接。连接的建立和断开过程确保了数据的有序传输和双方的可靠通信。
3. 流量控制：TCP使用滑动窗口机制来进行流量控制。接收方可以告知发送方自己的接收窗口大小，以控制发送方的发送速率，从而避免数据丢失或拥塞。
4. 拥塞控制：TCP使用拥塞控制算法来避免网络拥塞。通过监测网络的拥塞程度和调整发送速率，TCP可以保持网络的稳定性和公平性。

### 2.报文结构：

TCP报文由首部和数据两部分组成。

TCP首部包含以下字段：

- 源端口号和目标端口号：用于标识发送方和接收方的应用程序。
- 序列号：用于对TCP报文进行排序和重组。
- 确认号：用于确认已接收到的数据的序列号。
- 首部长度：指示TCP首部的长度。
- 标志位：包括ACK、SYN、FIN等标志，用于控制连接的建立、关闭和其他状态。
- 窗口大小：接收方通知发送方的可接收数据的窗口大小。
- 校验和：用于检测报文是否被损坏。
- 紧急指针：指示报文中的紧急数据的位置。

### 3.建立连接和释放连接的过程：

TCP使用**三次握手建立连接**和**四次握手释放连接**。

#### 1.建立连接的过程：

1. 发起方（客户端）向接收方（服务器）发送一个SYN（同步）报文，其中设置SYN标志位为1，并选择一个初始序列号。
2. 接收方收到SYN报文后，确认收到，并发送一个SYN-ACK（同步-确认）报文作为响应，其中设置SYN和ACK标志位为1，确认号为发起方的序列号加1，同时选择一个自己的初始序列号。
3. 发起方收到SYN-ACK报文后，向接收方发送一个ACK（确认）报文，其中设置ACK标志位为1，确认号为接收方的序列号加1。

#### 2.释放连接的过程：

1. 发起方（客户端或服务器）发送一个FIN（结束）报文，其中设置FIN标志位为1。
2. 接收方收到FIN报文后，发送一个ACK报文作为确认。
3. 接收方进一步处理完自己的数据后，发送一个FIN报文。
4. 发起方收到FIN报文后，发送一个ACK报文作为最后的确认。
5. 连接关闭，双方释放连接。

这些过程确保了TCP连接的可靠性和稳定性，并提供了一种可靠的数据传输机制。

## 二、HTTP

HTTP（Hypertext Transfer Protocol）是一种用于在Web上传输数据的应用层协议。在初识阶段，了解HTTP报文结构、状态码的含义以及HTTP请求/响应过程是很有帮助的。

### 1.报文结构：

HTTP报文由请求报文和响应报文两种类型组成，它们具有相似的结构。

#### 1.请求报文的结构：

1. 请求行：包含请求方法（如GET、POST）、请求的URL和HTTP协议版本。
2. 请求头部：由多个字段组成，每个字段包含一个名称和一个值，用冒号分隔，用于传递请求的各种信息，如Host、User-Agent、Content-Type等。
3. 空行：用于分隔请求头部和请求体。
4. 请求体：可选，包含需要传输的数据，例如在POST请求中包含的表单数据。

#### 2.响应报文的结构：

1. 状态行：包含HTTP协议版本、状态码和对应的状态消息。
2. 响应头部：类似于请求头部，包含多个字段来传递响应的各种信息，如Content-Type、Content-Length等。
3. 空行：用于分隔响应头部和响应体。
4. 响应体：包含响应的实际数据，例如HTML页面、JSON数据等。

### 2.状态码的含义：

HTTP响应报文中的状态码表示服务器对请求的处理结果。常见的状态码有以下几类：

- 1xx（Informational）：表示请求已被接收，服务器正在处理。
- 2xx（Success）：表示请求已成功处理并得到响应。
- 3xx（Redirection）：表示请求需要进一步操作来完成，例如重定向到另一个URL。
- 4xx（Client Error）：表示客户端发送的请求有误，如请求的资源不存在或无权限访问。
- 5xx（Server Error）：表示服务器在处理请求时发生了错误。

### 3.一个完整的HTTP请求/响应过程是什么样：

1. 客户端（例如浏览器）向服务器发送HTTP请求报文，包括请求行、请求头部和请求体。
2. 服务器接收到请求报文，解析请求行和请求头部，根据请求的资源进行相应的处理。
3. 服务器生成HTTP响应报文，包括状态行、响应头部和响应体。
4. 服务器将响应报文发送回客户端。
5. 客户端接收到响应报文，解析状态行和响应头部，获取响应的数据。
6. 客户端根据需要处理响应的数据，例如渲染HTML页面或解析JSON数据。

### 4.HTTP请求信息和响应信息的格式

#### 1.请求：

* 请求行（分3部分）

  * 请求方法
    * GET
    * POST
    * PUT
    * DELETE
    * TRACE
    * OPTIONS

  * 请求路径
  * 所用的协议

* 请求头信息
* 请求主体信息